# 🎯 2단계 모델 성능 결과

> 2020-2024년 데이터로 학습, 2025년 데이터로 검증

---

## 📊 **전체 성능**

| 지표 | 값 |
|------|-----|
| **전체 MAE** | **0.0686** (6.86%p 오차) |
| **분류 정확도** | **97.0%** |
| **Within 5%p** | **54.6%** |
| **Within 10%p** | **82.5%** |
| **Within 15%p** | **94.2%** |

---

## 🏗️ **모델 구조**

### **Stage 1: 분류 (정상 vs 유찰)**

```
알고리즘: RandomForestClassifier
목적: 낙찰가율 50% 기준 그룹 분류

성능:
- Accuracy: 97.0%
- Precision: 0.655
- Recall: 0.828
- F1-Score: 0.731

Confusion Matrix:
             예측
         정상   유찰
실제 정상 4966   114
실제 유찰   45   216
```

### **Stage 2: 회귀 (그룹별 예측)**

```
알고리즘: HuberRegressor (이상치 강건)

2-1. 정상 그룹 (≥50%):
- epsilon: 1.35
- MAE: 0.0700

2-2. 유찰 그룹 (<50%):
- epsilon: 1.1
- MAE: 0.0401 ⭐ (53% 더 정확!)
```

---

## 📈 **그룹별 성능**

| 그룹 | 데이터 수 | MAE | Within 5%p | Within 10%p |
|------|-----------|-----|------------|-------------|
| **전체** | 5,341 | 0.0686 | 54.6% | 82.5% |
| **정상 (≥50%)** | 5,080 | 0.0700 | 53.7% | 82.4% |
| **유찰 (<50%)** | 261 | 0.0401 ⭐ | 72.0% ⭐ | 83.9% |

**핵심 발견:**
- 유찰 그룹(저가 물건)에서 **MAE 53% 개선** 🎉
- 저가 구간 Within 5%p: **72.0%** (정상 그룹 대비 +18.3%p)

---

## 📊 **오차 분포**

| 오차 범위 | 개수 | 비율 |
|-----------|------|------|
| **Excellent (≤3%p)** | 1,818 | 34.0% |
| **Good (3-5%p)** | 1,096 | 20.5% |
| **Fair (5-10%p)** | 1,492 | 27.9% |
| **Moderate (10-15%p)** | 625 | 11.7% |
| **Poor (>15%p)** | 309 | 5.8% |

**해석:**
- 54.5%가 5%p 이내 예측 (매우 정확)
- 82.5%가 10%p 이내 예측 (실용적)
- 94.2%가 15%p 이내 예측 (우수)

---

## 🎯 **주요 발견**

### **1. 2단계 접근의 효과**

```
기존 1개 모델 방식:
- 전체를 하나의 모델로 학습
- 저가/고가 특성 무시
- 저가 구간 예측 부정확

2단계 모델 방식:
- 그룹별 특화 모델
- 저가 구간 53% 성능 향상 ⭐
- 전체 성능도 개선
```

### **2. 최저가율의 중요성**

```
Feature Importance:
- 최저가율: 74.85% ⭐⭐⭐
- 기타 피처: 25.15%

→ 최저가율이 낙찰가율을 결정하는 핵심!
```

### **3. 유찰 그룹 특화 성공**

```
유찰 그룹 (낙찰가율 <50%):
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
MAE: 0.0401 (4.01%p 오차)
Within 5%p: 72.0%
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

→ 저가 물건 예측에 특화된 모델!
→ 유찰 위험 조기 감지 가능!
```

---

## 📁 **결과 파일**

### **성능 지표 파일**

```
results/validation/
├── model_performance_summary.json      # 전체 요약 (JSON)
├── performance_metrics_by_group.csv    # 그룹별 상세 지표
├── error_distribution.csv              # 오차 분포
└── classification_metrics.csv          # 분류 성능
```

### **예측 결과 파일**

```
2025_validation_results.csv (5,341건)
- 실제 낙찰가율
- 예측 낙찰가율
- 예측 오차
- 그룹 분류
```

### **시각화 파일**

```
results/figures/
├── 2stage_results_complete.png         # 전체 결과 (12개 차트)
├── confusion_matrices.png              # 혼동 행렬
├── error_distributions.png             # 오차 분포
└── huber_shap_analysis.png             # SHAP 분석
```

---

## 🚀 **재현 방법**

### **1. 데이터 준비**

```bash
# 구글 드라이브에서 데이터 다운로드
# data/README.md 참조
```

### **2. 모델 학습**

```bash
# Jupyter 노트북 실행
jupyter notebook notebooks/3_모델링_최종.ipynb

# 셀 24 실행: 2단계 모델 학습 및 평가
```

### **3. 결과 확인**

```bash
# 시각화 결과
results/figures/2stage_results_complete.png

# 수치 결과
results/validation/*.csv
```

---

## 📖 **결론**

### **✅ 주요 성과**

1. **전체 MAE 0.0686 달성** (6.86%p 평균 오차)
2. **저가 구간 MAE 0.0401** (4.01%p, 53% 개선)
3. **분류 정확도 97.0%** (정상 vs 유찰 구분)
4. **실용적 정확도**: 82.5%가 10%p 이내 예측

### **🎯 실무 활용 가능성**

```
유찰 위험 조기 경보:
→ 72%가 5%p 이내 정확도
→ 저가 물건 입찰 전략 수립 가능

정상 물건 가격 예측:
→ 53.7%가 5%p 이내 정확도
→ 적정 입찰가 산정 가능
```

### **💡 향후 개선 방향**

1. **피처 확장**: 위치, 면적, 건물 연식 등 추가
2. **딥러닝 실험**: LSTM, Transformer 등 시계열 모델
3. **앙상블**: 여러 모델 조합으로 성능 향상
4. **실시간 예측**: API 서버 구축

---

## 📚 **참고 자료**

- [전체 분석 리포트](../reports/성능_개선_전략.md)
- [통계적 검증](../reports/통계적_가설_검증.md)
- [모델 아키텍처 상세](../../README.md#모델-아키텍처)

---

**⭐ 프로젝트가 도움이 되셨다면 Star를 눌러주세요! ⭐**

Generated: 2025-01-28
